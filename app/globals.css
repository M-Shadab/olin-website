@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  --color-navy: #1a2b3c;
  --color-gold: #d4af37;
  --color-off-white: #f9f9f9;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-navy: var(--color-navy);
  --color-gold: var(--color-gold);
  --color-off-white: var(--color-off-white);
  --font-playfair: var(--font-playfair);
  --font-inter: var(--font-inter);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-inter), Arial, Helvetica, sans-serif;
}

.bg-noise {
  position: relative;
}

.bg-noise::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events: none;
}

.bg-noise > * {
  position: relative;
  z-index: 1;
}

/* ─── ServiceGrid: Mobile Scroll Reveal ──────────────────────────────────────
 *
 * Two-class system prevents SSR flash and desktop interference:
 *
 *   1. .sg-card            — base class, no hidden styles (visible on SSR/desktop)
 *   2. .sg-card--ready     — added by JS *only* on mobile after mount;
 *                            applies the hidden initial state
 *   3. .sg-card--visible   — added by IntersectionObserver; triggers transition
 *
 * Pattern: Apple / LVMH / Aesop / Vogue
 *   • Vertical lift Y-axis — organic, editorial
 *   • blur(4px → 0)        — card "materialises" into focus
 *   • scale(0.96 → 1)      — subtle, high-end print-to-screen feel
 *   • Per-card stagger via --reveal-delay CSS custom property set by JS
 *   • Expo Out easing (0.16, 1, 0.3, 1) — Apple's iOS curve
 * ─────────────────────────────────────────────────────────────────────────── */

/* Hidden initial state — only applied when JS adds --ready on mobile */
.sg-card--ready {
  opacity: 0;
  transform: translateY(32px) scale(0.96);
  filter: blur(4px);
  transition:
    opacity   0.8s cubic-bezier(0.16, 1, 0.3, 1) var(--reveal-delay, 0ms),
    transform 0.8s cubic-bezier(0.16, 1, 0.3, 1) var(--reveal-delay, 0ms),
    filter    0.6s cubic-bezier(0.16, 1, 0.3, 1) var(--reveal-delay, 0ms);
  will-change: opacity, transform, filter;
}

/* Revealed state — Observer adds this class, triggering the transition */
.sg-card--ready.sg-card--visible {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0px);
}

/* ─── HumanElement: Viewport Reveal ─────────────────────────────────────────
 *
 * Two-layer animation triggered by .he-revealed (added by IntersectionObserver):
 *
 *   1. Clip-path wipe (he-img-wrap)
 *      inset(0 100% 0 0) → inset(0 0% 0 0)
 *      The image is hidden behind a right-side clip, then wiped open left→right.
 *      Used by: Four Seasons, Aman, Rosewood hotel sites.
 *
 *   2. Ken Burns (he-img)
 *      Slow scale(1.1 → 1.0) + subtle upward pan over 8s.
 *      Starts immediately on reveal, loops once.
 *      Creates the "living photograph" feel of luxury editorial.
 *
 * ─────────────────────────────────────────────────────────────────────────── */

/* Initial state: fully clipped (invisible) */
.he-img-wrap {
  clip-path: inset(0 100% 0 0);
  transition: clip-path 1.1s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Revealed: wipe open */
.he-revealed {
  clip-path: inset(0 0% 0 0);
}

/* Ken Burns: slow zoom-out + pan — starts when .he-revealed is added */
.he-img {
  transform-origin: center center;
}

.he-revealed .he-img {
  animation: kenBurns 8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes kenBurns {
  from {
    transform: scale(1.1) translateY(0px);
  }
  to {
    transform: scale(1.0) translateY(-12px);
  }
}

/* ─── Pillars / OLIN Standard: Scroll Animations ────────────────────────────
 *
 * 1. Heading fade-lift  (.pillars-heading → .pillars-heading--visible)
 * 2. Gold rule draw-in  (.pillars-rule) — width expands 0 → 80px on reveal
 * 3. Pillar cards       (.pillar-card--ready → .pillar-card--visible)
 *    Stagger via --pillar-delay CSS custom property set by JS
 * 4. SVG stroke draw-on (.pillar-icon paths) — strokes animate in on card reveal
 * ─────────────────────────────────────────────────────────────────────────── */

/* ── 1. Heading ── */
.pillars-heading {
  opacity: 0;
  transform: translateY(24px);
  transition:
    opacity  0.9s cubic-bezier(0.16, 1, 0.3, 1),
    transform 0.9s cubic-bezier(0.16, 1, 0.3, 1);
}
.pillars-heading--visible {
  opacity: 1;
  transform: translateY(0);
}

/* ── 2. Gold rule draw-in ── */
.pillars-rule {
  width: 0;
  transition: width 0.9s cubic-bezier(0.16, 1, 0.3, 1) 0.4s;
}
.pillars-heading--visible .pillars-rule {
  width: 80px;
}

/* ── 3. Pillar cards ── */
.pillar-card--ready {
  opacity: 0;
  transform: translateY(28px) scale(0.97);
  filter: blur(3px);
  transition:
    opacity   0.75s cubic-bezier(0.16, 1, 0.3, 1) var(--pillar-delay, 0ms),
    transform 0.75s cubic-bezier(0.16, 1, 0.3, 1) var(--pillar-delay, 0ms),
    filter    0.55s cubic-bezier(0.16, 1, 0.3, 1) var(--pillar-delay, 0ms);
  will-change: opacity, transform, filter;
}
.pillar-card--ready.pillar-card--visible {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0px);
}

/* ── 4. SVG stroke draw-on ── */
/* Set a large dasharray so strokes start invisible */
.pillar-icon path,
.pillar-icon circle,
.pillar-icon polyline {
  stroke-dasharray: 200;
  stroke-dashoffset: 200;
  transition: stroke-dashoffset 0s; /* no transition until card is visible */
}
/* When card reveals, animate strokes in with a delay after the card itself */
.pillar-card--visible .pillar-icon path,
.pillar-card--visible .pillar-icon circle,
.pillar-card--visible .pillar-icon polyline {
  stroke-dashoffset: 0;
  transition: stroke-dashoffset 1s cubic-bezier(0.16, 1, 0.3, 1)
    calc(var(--pillar-delay, 0ms) + 200ms);
}
/* ─── Hero Text Animations ──────────────────────────────────────────────────
 *
 * Staggered reveal for Hero text sections:
 * 1. .hero-line        — Overflow hidden container for text
 * 2. .hero-line > *    — Initial state: translated down 100%
 * 3. .hero-text--visible — Trigger class added by JS on mount
 *
 * Pattern: "Curtain lift" reveal used by high-end editorial sites.
 * ─────────────────────────────────────────────────────────────────────────── */

.hero-line {
  overflow: hidden; /* masks the text as it slides up */
}

.hero-line > * {
  transform: translateY(100%) !important;
  opacity: 0 !important;
  transition:
    transform 1s cubic-bezier(0.16, 1, 0.3, 1) var(--hero-delay, 0ms),
    opacity 1s cubic-bezier(0.16, 1, 0.3, 1) var(--hero-delay, 0ms);
  will-change: transform, opacity;
}

.hero-text--visible .hero-line > * {
  transform: translateY(0) !important;
  opacity: 1 !important;
}

